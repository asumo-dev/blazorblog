@page "/posts/{id}"
@using BlazorBlog.Core.Services
@using BlazorBlog.Core.Models
@inject IBlogService BlogService

@if (Post == null)
{
    <h1>Loading...</h1>
}
else
{
    <article>
        <h1>@Post.Title</h1>
        <p class="published-at">@Post.PublishedAt</p>
        <div>@((MarkupString)Post.Body)</div>
    </article>
}

@code {
    [Parameter]
    public string Id { get; set; } = default!;

    public BlogPost? Post { get; private set; }

    protected override async Task OnParametersSetAsync()
    {
        Post = await BlogService.GetPostAsync(Id);
    }
}